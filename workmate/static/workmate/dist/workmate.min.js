!function(e,t,a){var c=t(".wm-messages"),n=t(".ui.checkbox"),o='[data-action="contact_call"]',s=t(".ui.dropdown"),i=t(".wm-menu"),d=".message .close";t.fn.api.settings.api={contact_call:"/contacts/{id}/call/",contact_detail:"/api/v1/contact/{id}/",contact_list:"/api/v1/contact/",contact_schema:"/api/v1/contact/schema/",tag_detail:"/api/v1/tag/{id}/",tag_list:"/api/v1/tag/",tag_schema:"/api/v1/tag/schema/"},n.checkbox(),s.dropdown({}),i.modal("attach events",".grid.launch.item"),i.modal("attach events",".wm-menu .close","hide"),t(document).on("click",d,function(){t(this).closest(".message").transition("fade")}),t(document).on("click",o,function(){t(this).api({action:"contact_call",method:"POST",on:"now",urlData:{id:t(this).data("id")},beforeSend:function(e){return e.data.type=t(this).data("type"),e},beforeXHR:function(t){t.setRequestHeader("X-CSRFToken",e.getCookie("csrftoken"))},onSuccess:function(t,a,c){t.status&&e.createMessage(t.status,t.message)},onError:function(t,a,c){c.responseJSON.status&&e.createMessage(c.responseJSON.status,c.responseJSON.message)}})}),e.createMessage=function(e,a){var n=t('<div class="ui '+e+' message"><i class="close icon"></i></div>');n.append('<div class="header capitalize">'+e+"</div>"),n.append("<p>"+a+"</p>"),c.append(n)},e.getCookie=function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var a=document.cookie.split(";"),c=0;c<a.length;c++){var n=jQuery.trim(a[c]);if(n.substring(0,e.length+1)==e+"="){t=decodeURIComponent(n.substring(e.length+1));break}}return t}}(window.workmate=window.workmate||{},jQuery);