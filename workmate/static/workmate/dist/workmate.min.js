!function(e,t,a){var n=t(".wm-messages"),o=t(".ui.checkbox"),s='[data-action="contact_call"]',c=t(".ui.dropdown"),i=t(".wm-menu"),d=".message .close",r=5e3,u=1e4;t.fn.api.settings.api={contact_call:"/contacts/{id}/call/",contact_detail:"/api/v1/contact/{id}/",contact_list:"/api/v1/contact/",contact_schema:"/api/v1/contact/schema/",tag_detail:"/api/v1/tag/{id}/",tag_list:"/api/v1/tag/",tag_schema:"/api/v1/tag/schema/"},o.checkbox(),c.dropdown({}),i.modal("attach events",".grid.launch.item"),i.modal("attach events",".wm-menu .close","hide"),t(document).on("click",d,function(){t(this).closest(".message").transition("fade")}),t(document).on("click",s,function(){t(this).api({action:"contact_call",method:"POST",on:"now",urlData:{id:t(this).data("id")},beforeSend:function(e){return e.data.type=t(this).data("type"),e},beforeXHR:function(t){t.setRequestHeader("X-CSRFToken",e.getCookie("csrftoken"))},onSuccess:function(t,a,n){t.status&&e.createMessage(t.status,t.message)},onError:function(t,a,n){n.responseJSON.status&&e.createMessage(n.responseJSON.status,n.responseJSON.message)}})}),e.createMessage=function(e,a){var o=t('<div class="ui '+e+' message"><i class="close icon"></i></div>');o.append('<div class="header capitalize">'+e+"</div>"),o.append("<p>"+a+"</p>"),n.append(o),"error"==e?setTimeout(function(){o.closest(".message").transition("fade")},u):setTimeout(function(){o.closest(".message").transition("fade")},r)},e.getCookie=function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var o=jQuery.trim(a[n]);if(o.substring(0,e.length+1)==e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}}(window.workmate=window.workmate||{},jQuery);