!function(o,e){var t=(e("body"),e(".call.icon")),n=e(".dropdown"),i=e(".ui.menu.modal"),a=e(".ui.main.menu .popup.item"),c=e(".message .close");e.fn.api.settings.api={contact_call:"/contacts/{id}/call/"},n.dropdown({}),i.modal("attach events",".grid.launch.item"),i.modal("attach events",".ui.menu.modal .close","hide"),a.popup({position:"bottom center",delay:{show:100,hide:50}}),c.on("click",function(){e(this).closest(".message").transition("fade")}),t.api({action:"contact_call",urlData:{id:e(this).data("id")},method:"POST",on:"click",beforeSend:function(o){return o.data.type=e(this).data("type"),o},beforeXHR:function(e){e.setRequestHeader("X-CSRFToken",o.getCookie("csrftoken"))},onSuccess:function(o){console.log(o),alert(o.message)},onError:function(o){console.log(o)}}),o.getCookie=function(o){var e=null;if(document.cookie&&""!=document.cookie)for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var i=jQuery.trim(t[n]);if(i.substring(0,o.length+1)==o+"="){e=decodeURIComponent(i.substring(o.length+1));break}}return e}}(window.workmate=window.workmate||{},jQuery);